<?xml version="1.0" encoding="UTF-8"?>
<window type="dialog" id="1112">
    <defaultcontrol always="true">50</defaultcontrol>
    <!-- <onload>RunScript(special://skin/resources/lib/debug_search_results.py)</onload> -->
    <onload condition="String.IsEmpty(Window(10000).Property(GlobalSearch.ActiveTab))">SetFocus(50)</onload>
    <onload condition="String.IsEqual(Window(10000).Property(GlobalSearch.ActiveTab),movies)">SetFocus(50)</onload>
    <onload condition="String.IsEqual(Window(10000).Property(GlobalSearch.ActiveTab),series)">SetFocus(51)</onload>
    <onload condition="String.IsEqual(Window(10000).Property(GlobalSearch.ActiveTab),youtube)">SetFocus(52)</onload>
    <onunload>ClearProperty(GlobalSearch.MoviesCount,10000)</onunload>
    <onunload>ClearProperty(GlobalSearch.SeriesCount,10000)</onunload>
    <onunload>ClearProperty(GlobalSearch.YoutubeCount,10000)</onunload>
    <onunload>ClearProperty(GlobalSearch.ActiveTab,10000)</onunload>
    <onunload>ClearProperty(AIOStreams.SearchActive,10000)</onunload>
    <coordinates>
        <left>0</left>
        <top>0</top>
    </coordinates>
    
    <!-- Background -->
    <controls>
        <control type="image">
            <left>0</left>
            <top>0</top>
            <width>1920</width>
            <height>1080</height>
            <texture colordiffuse="FF000000">colors/white.png</texture>
        </control>
        
        <!-- Debug URL Label (Hidden) -->
        <control type="label">
            <left>40</left>
            <top>1000</top>
            <width>1840</width>
            <height>40</height>
            <font>font12</font>
            <label>URL: $INFO[Window(10000).Property(GlobalSearch.MoviesURL)]</label>
            <textcolor>FF444444</textcolor>
            <visible>false</visible>
        </control>
        
        <!-- Main Container -->
        <control type="group">
            <left>120</left>
            <top>80</top>
            <width>1680</width>
            <height>920</height>
            <animation effect="slide" start="0,-50" end="0,0" time="200">WindowOpen</animation>
            <animation effect="slide" start="0,0" end="0,-50" time="200">WindowClose</animation>
            
            <!-- Background Panel -->
            <control type="group">
                <left>0</left>
                <top>0</top>
                <width>1680</width>
                <height>920</height>
                <include>GlassPanel</include>
            </control>
            
            <!-- Header -->
            <control type="group">
                <left>0</left>
                <top>0</top>
                <width>1680</width>
                <height>100</height>
                <!-- Search Title -->
            <control type="label">
                <left>40</left>
                <top>20</top>
                <width>1600</width>
                <height>60</height>
                <font>font25_title</font>
                <label>$VAR[SearchResultsHeader]</label>
                <textcolor>FFFFFFFF</textcolor>
            </control>
                
                <!-- Close Button -->
                <control type="button" id="9999">
                    <left>1600</left>
                    <top>30</top>
                    <width>60</width>
                    <height>60</height>
                    <label></label>
                    <font>-</font>
                    <texturefocus>buttons/close-focus.png</texturefocus>
                    <texturenofocus>buttons/close-nofocus.png</texturenofocus>
                    <onclick>Dialog.Close(1112)</onclick>
                </control>
            </control>
            
            <!-- Tab Buttons -->
            <control type="grouplist" id="9000">
                <left>40</left>
                <top>100</top>
                <width>1600</width>
                <height>60</height>
                <orientation>horizontal</orientation>
                <itemgap>10</itemgap>
                <ondown>100</ondown>
                <onup>9999</onup>
                
                <control type="button" id="50">
                    <left>0</left>
                    <top>0</top>
                    <width>240</width>
                    <height>60</height>
                    <font>font24_bold</font>
                    <label>Movies [$INFO[Window(10000).Property(GlobalSearch.MoviesCount)]]</label>
                    <textoffsetx>60</textoffsetx>
                    <align>left</align>
                    <aligny>center</aligny>
                    <textcolor>FFFFFFFF</textcolor>
                    <focusedcolor>FFFFFFFF</focusedcolor>
                    <texturefocus>buttons/tr_movies_fo.png</texturefocus>
                    <texturenofocus>buttons/tr_movies_nofo.png</texturenofocus>
                    <onup>9000</onup>
                    <ondown>100</ondown>
                    <onright condition="System.HasAddon(plugin.video.youtube)">51</onright>
                    <onright condition="!System.HasAddon(plugin.video.youtube)">noop</onright>
                    <onclick>SetProperty(GlobalSearch.ActiveTab,movies,10000)</onclick>
                    <onclick>SetFocus(100)</onclick>
                </control>
                
                <control type="button" id="51">
                    <left>340</left>
                    <top>0</top>
                    <width>240</width>
                    <height>60</height>
                    <font>font24_bold</font>
                    <label>TV Shows [$INFO[Window(10000).Property(GlobalSearch.SeriesCount)]]</label>
                    <textoffsetx>60</textoffsetx>
                    <align>left</align>
                    <aligny>center</aligny>
                    <textcolor>FFFFFFFF</textcolor>
                    <focusedcolor>FFFFFFFF</focusedcolor>
                    <texturefocus>buttons/tr_tvshows_fo.png</texturefocus>
                    <texturenofocus>buttons/tr_tvshows_nofo.png</texturenofocus>
                    <onup>9000</onup>
                    <ondown>101</ondown>
                    <onleft>50</onleft>
                    <onright condition="System.HasAddon(plugin.video.youtube)">52</onright>
                    <onright condition="!System.HasAddon(plugin.video.youtube)">noop</onright>
                    <onclick>SetProperty(GlobalSearch.ActiveTab,series,10000)</onclick>
                    <onclick>SetFocus(101)</onclick>
                </control>
                
                <!-- YouTube Tab -->
                <control type="button" id="52">
                    <left>680</left>
                    <top>0</top>
                    <width>240</width>
                    <height>60</height>
                    <font>font24_bold</font>
                    <label>YouTube [$INFO[Window(10000).Property(GlobalSearch.YoutubeCount)]]</label>
                    <textoffsetx>60</textoffsetx>
                    <align>left</align>
                    <aligny>center</aligny>
                    <textcolor>FFFFFFFF</textcolor>
                    <focusedcolor>FFFFFFFF</focusedcolor>
                    <texturefocus>buttons/tr_youtube_fo.png</texturefocus>
                    <texturenofocus>buttons/tr_youtube_nofo.png</texturenofocus>
                    <onup>9000</onup>
                    <ondown>102</ondown>
                    <onleft>51</onleft>
                    <onclick>SetProperty(GlobalSearch.ActiveTab,youtube,10000)</onclick>
                    <onclick>SetFocus(102)</onclick>
                    <visible>System.HasAddon(plugin.video.youtube)</visible>
                </control>
            </control>

            <!-- Results Count Labels Removed - Merged into Buttons -->

            <!-- Movies Results Panel -->
            <control type="group">
                <left>40</left>
                <top>180</top>
                <width>1600</width>
                <height>700</height>
                <visible>String.IsEqual(Window(10000).Property(GlobalSearch.ActiveTab),movies) | String.IsEmpty(Window(10000).Property(GlobalSearch.ActiveTab))</visible>
                
                <!-- Movies Grid -->
                <control type="panel" id="100">
                    <left>0</left>
                    <top>0</top>
                    <width>1600</width>
                    <height>740</height>
                    <onup>50</onup>
                    <onleft>100</onleft>
                    <onright>100</onright>
                    <oninfo>RunPlugin(plugin://plugin.video.aiostreams/?action=info&amp;id=$INFO[ListItem.Property(id)]&amp;content_type=$INFO[ListItem.Property(content_type)])</oninfo>
                    <pagecontrol>-</pagecontrol>
                    <scrolltime>200</scrolltime>
                    <orientation>vertical</orientation>
                    <preloaditems>2</preloaditems>
                    
                    <itemlayout height="450" width="300">
                        <control type="image">
                            <left>10</left>
                            <top>10</top>
                            <width>280</width>
                            <height>400</height>
                            <texture>$INFO[ListItem.Art(poster)]</texture>
                            <aspectratio>scale</aspectratio>
                        </control>
                        <!-- Progress Indicator -->
                        <control type="progress">
                            <left>10</left>
                            <top>405</top>
                            <width>280</width>
                            <height>5</height>
                            <info>ListItem.PercentPlayed</info>
                            <visible>!Integer.IsEqual(ListItem.PercentPlayed,0)</visible>
                        </control>
                        <!-- Watched Indicator -->
                        <control type="image">
                            <right>15</right>
                            <top>15</top>
                            <width>40</width>
                            <height>40</height>
                            <texture>indicator_watched.png</texture>
                            <visible>String.IsEqual(ListItem.Property(watched),true) | [!String.IsEqual(ListItem.DBType,tvshow) + !String.IsEqual(ListItem.DBType,season) + [String.IsEqual(ListItem.Overlay,OverlayWatched.png) | Integer.IsGreater(ListItem.Playcount,0)]]</visible>
                        </control>
                        <!-- Percentage Indicator -->
                        <control type="group">
                            <right>10</right>
                            <top>10</top>
                            <width>50</width>
                            <height>50</height>
                        <visible>[Integer.IsGreater(ListItem.PercentPlayed,4) | Integer.IsGreater(ListItem.Property(PercentPlayed),4)] + [Integer.IsLess(ListItem.PercentPlayed,96) | Integer.IsLess(ListItem.Property(PercentPlayed),96)]</visible>
                        <control type="image">
                            <width>50</width>
                            <height>50</height>
                            <texture>PercentageCircle.png</texture>
                        </control>
                        <control type="label">
                            <width>50</width>
                            <height>50</height>
                            <align>center</align>
                            <aligny>center</aligny>
                            <font>font_flag</font>
                            <label>$VAR[PercentPlayedVar]%</label>
                            <textcolor>red</textcolor>
                        </control>
                        </control>
                    </itemlayout>
                    
                    <focusedlayout height="450" width="300">
                        <control type="group">
                            <animation effect="zoom" start="100" end="108" time="200" center="150,225">Focus</animation>
                            <animation effect="zoom" start="108" end="100" time="200" center="150,225">UnFocus</animation>
                            
                            <control type="image">
                                <left>10</left>
                                <top>10</top>
                                <width>280</width>
                                <height>400</height>
                                <texture>$INFO[ListItem.Art(poster)]</texture>
                                <bordertexture border="3" colordiffuse="button_focus">colors/white.png</bordertexture>
                                <bordersize>3</bordersize>
                                <aspectratio>scale</aspectratio>
                            </control>
                            <!-- Progress Indicator -->
                            <control type="progress">
                                <left>10</left>
                                <top>405</top>
                                <width>280</width>
                                <height>5</height>
                                <info>ListItem.PercentPlayed</info>
                                <visible>!Integer.IsEqual(ListItem.PercentPlayed,0)</visible>
                            </control>
                            <!-- Watched Indicator -->
                            <control type="image">
                                <right>15</right>
                                <top>15</top>
                                <width>40</width>
                                <height>40</height>
                                <texture>indicator_watched.png</texture>
                                <visible>String.IsEqual(ListItem.Property(watched),true) | [!String.IsEqual(ListItem.DBType,tvshow) + !String.IsEqual(ListItem.DBType,season) + [String.IsEqual(ListItem.Overlay,OverlayWatched.png) | Integer.IsGreater(ListItem.Playcount,0)]]</visible>
                            </control>
                            <!-- Percentage Indicator -->
                            <control type="group">
                                <right>10</right>
                                <top>10</top>
                                <width>50</width>
                                <height>50</height>
                                <visible>Integer.IsGreater(ListItem.PercentPlayed,4) + Integer.IsLess(ListItem.PercentPlayed,96)</visible>
                                <control type="image">
                                    <width>50</width>
                                    <height>50</height>
                                    <texture>PercentageCircle.png</texture>
                                </control>
                                <control type="label">
                                    <width>50</width>
                                    <height>50</height>
                                    <align>center</align>
                                    <aligny>center</aligny>
                                    <font>font_flag</font>
                                    <label>$INFO[ListItem.PercentPlayed]%</label>
                                    <textcolor>red</textcolor>
                                </control>
                            </control>
                        </control>
                    </focusedlayout>
                    
                    <content target="videos">$INFO[Window(10000).Property(GlobalSearch.MoviesURL)]</content>
                </control>
                
                <!-- Loading Indicator -->
                <control type="label">
                    <left>0</left>
                    <top>300</top>
                    <width>1600</width>
                    <height>100</height>
                    <font>font25</font>
                    <label>Searching movies...</label>
                    <textcolor>FFAAAAAA</textcolor>
                    <align>center</align>
                    <visible>Integer.IsEqual(Container(100).NumItems,0)</visible>
                </control>
            </control>
            
            <!-- TV Shows Results Panel -->
            <control type="group">
                <left>40</left>
                <top>180</top>
                <width>1600</width>
                <height>700</height>
                <visible>String.IsEqual(Window(10000).Property(GlobalSearch.ActiveTab),series)</visible>
                
                <!-- TV Shows Grid -->
                <control type="panel" id="101">
                    <left>0</left>
                    <top>0</top>
                    <width>1600</width>
                    <height>740</height>
                    <onup>51</onup>
                    <onleft>101</onleft>
                    <onright>101</onright>
                    <oninfo>RunPlugin(plugin://plugin.video.aiostreams/?action=info&amp;id=$INFO[ListItem.Property(id)]&amp;content_type=$INFO[ListItem.Property(content_type)])</oninfo>
                    <pagecontrol>-</pagecontrol>
                    <scrolltime>200</scrolltime>
                    <orientation>vertical</orientation>
                    <preloaditems>2</preloaditems>
                    
                    <itemlayout height="450" width="300">
                        <control type="image">
                            <left>10</left>
                            <top>10</top>
                            <width>280</width>
                            <height>400</height>
                            <texture>$INFO[ListItem.Art(poster)]</texture>
                            <aspectratio>scale</aspectratio>
                        </control>
                        <!-- Progress Indicator -->
                        <control type="progress">
                            <left>10</left>
                            <top>405</top>
                            <width>280</width>
                            <height>5</height>
                            <info>ListItem.PercentPlayed</info>
                            <visible>!Integer.IsEqual(ListItem.PercentPlayed,0)</visible>
                        </control>
                        <!-- Watched Indicator -->
                        <control type="image">
                            <right>15</right>
                            <top>15</top>
                            <width>40</width>
                            <height>40</height>
                            <texture>indicator_watched.png</texture>
                            <visible>String.IsEqual(ListItem.Overlay,OverlayWatched.png)</visible>
                        </control>
                        <!-- Percentage Indicator -->
                        <control type="group">
                            <right>10</right>
                            <top>10</top>
                            <width>50</width>
                            <height>50</height>
                        <visible>[Integer.IsGreater(ListItem.PercentPlayed,4) | Integer.IsGreater(ListItem.Property(PercentPlayed),4)] + [Integer.IsLess(ListItem.PercentPlayed,96) | Integer.IsLess(ListItem.Property(PercentPlayed),96)]</visible>
                        <control type="image">
                            <width>50</width>
                            <height>50</height>
                            <texture>PercentageCircle.png</texture>
                        </control>
                        <control type="label">
                            <width>50</width>
                            <height>50</height>
                            <align>center</align>
                            <aligny>center</aligny>
                            <font>font_flag</font>
                            <label>$VAR[PercentPlayedVar]%</label>
                            <textcolor>red</textcolor>
                        </control>
                        </control>
                    </itemlayout>
                    
                    <focusedlayout height="450" width="300">
                        <control type="group">
                            <animation effect="zoom" start="100" end="108" time="200" center="150,225">Focus</animation>
                            <animation effect="zoom" start="108" end="100" time="200" center="150,225">UnFocus</animation>
                            
                            <control type="image">
                                <left>10</left>
                                <top>10</top>
                                <width>280</width>
                                <height>400</height>
                                <texture>$INFO[ListItem.Art(poster)]</texture>
                                <bordertexture border="3" colordiffuse="button_focus">colors/white.png</bordertexture>
                                <bordersize>3</bordersize>
                                <aspectratio>scale</aspectratio>
                            </control>
                            <!-- Progress Indicator -->
                            <control type="progress">
                                <left>10</left>
                                <top>405</top>
                                <width>280</width>
                                <height>5</height>
                                <info>ListItem.PercentPlayed</info>
                                <visible>!Integer.IsEqual(ListItem.PercentPlayed,0)</visible>
                            </control>
                            <!-- Watched Indicator -->
                            <control type="image">
                                <right>15</right>
                                <top>15</top>
                                <width>40</width>
                                <height>40</height>
                                <texture>indicator_watched.png</texture>
                                <visible>String.IsEqual(ListItem.Overlay,OverlayWatched.png)</visible>
                            </control>
                            <!-- Percentage Indicator -->
                            <control type="group">
                                <right>10</right>
                                <top>10</top>
                                <width>50</width>
                                <height>50</height>
                                <visible>Integer.IsGreater(ListItem.PercentPlayed,4) + Integer.IsLess(ListItem.PercentPlayed,96)</visible>
                                <control type="image">
                                    <width>50</width>
                                    <height>50</height>
                                    <texture>PercentageCircle.png</texture>
                                </control>
                                <control type="label">
                                    <width>50</width>
                                    <height>50</height>
                                    <align>center</align>
                                    <aligny>center</aligny>
                                    <font>font_flag</font>
                                    <label>$INFO[ListItem.PercentPlayed]%</label>
                                    <textcolor>red</textcolor>
                                </control>
                            </control>
                        </control>
                    </focusedlayout>
                    
                    <content target="videos">$INFO[Window(10000).Property(GlobalSearch.SeriesURL)]</content>
                </control>
                
                <!-- Loading Indicator -->
                <control type="label">
                    <left>0</left>
                    <top>300</top>
                    <width>1600</width>
                    <height>100</height>
                    <font>font25</font>
                    <label>Searching TV shows...</label>
                    <textcolor>FFAAAAAA</textcolor>
                    <align>center</align>
                    <visible>Integer.IsEqual(Container(101).NumItems,0)</visible>
                </control>
            </control>
            
            <!-- YouTube Results Panel -->
            <control type="group">
                <left>40</left>
                <top>180</top>
                <width>1600</width>
                <height>700</height>
                <visible>String.IsEqual(Window(10000).Property(GlobalSearch.ActiveTab),youtube) + System.HasAddon(plugin.video.youtube)</visible>
                
                <!-- YouTube List -->
                <control type="list" id="102">
                    <left>0</left>
                    <top>0</top>
                    <width>1600</width>
                    <height>740</height>
                    <onup>52</onup>
                    <onclick>Dialog.Close(1112)</onclick>
                    <onclick>ActivateWindow(Videos,$INFO[ListItem.FolderPath],return)</onclick>
                    <pagecontrol>-</pagecontrol>
                    <scrolltime>200</scrolltime>
                    
                    <itemlayout height="140">
                        <control type="image">
                            <left>10</left>
                            <top>10</top>
                            <width>240</width>
                            <height>120</height>
                            <texture>$INFO[ListItem.Art(thumb)]</texture>
                            <aspectratio>scale</aspectratio>
                        </control>
                        <control type="label">
                            <left>270</left>
                            <top>20</top>
                            <width>1310</width>
                            <height>40</height>
                            <font>font18</font>
                            <label>$INFO[ListItem.Label]</label>
                            <textcolor>FFFFFFFF</textcolor>
                        </control>
                        <control type="label">
                            <left>270</left>
                            <top>65</top>
                            <width>1310</width>
                            <height>30</height>
                            <font>font14</font>
                            <label>$INFO[ListItem.Property(channel)]</label>
                            <textcolor>FFAAAAAA</textcolor>
                        </control>
                        <control type="label">
                            <left>270</left>
                            <top>95</top>
                            <width>1310</width>
                            <height>25</height>
                            <font>font12</font>
                            <label>$INFO[ListItem.Property(duration)] • $INFO[ListItem.Property(views)] views</label>
                            <textcolor>FF888888</textcolor>
                        </control>
                    </itemlayout>
                    
                    <focusedlayout height="140">
                        <control type="image">
                            <left>0</left>
                            <top>0</top>
                            <width>1600</width>
                            <height>140</height>
                            <texture>lists/list-focus.png</texture>
                        </control>
                        <control type="image">
                            <left>10</left>
                            <top>10</top>
                            <width>240</width>
                            <height>120</height>
                            <texture>$INFO[ListItem.Art(thumb)]</texture>
                            <bordertexture border="3" colordiffuse="button_focus">colors/white.png</bordertexture>
                            <bordersize>3</bordersize>
                            <aspectratio>scale</aspectratio>
                        </control>
                        <control type="label">
                            <left>270</left>
                            <top>20</top>
                            <width>1310</width>
                            <height>40</height>
                            <font>font18</font>
                            <label>$INFO[ListItem.Label]</label>
                            <textcolor>FF00B4FF</textcolor>
                        </control>
                        <control type="label">
                            <left>270</left>
                            <top>65</top>
                            <width>1310</width>
                            <height>30</height>
                            <font>font14</font>
                            <label>$INFO[ListItem.Property(channel)]</label>
                            <textcolor>FFCCCCCC</textcolor>
                        </control>
                        <control type="label">
                            <left>270</left>
                            <top>95</top>
                            <width>1310</width>
                            <height>25</height>
                            <font>font12</font>
                            <label>$INFO[ListItem.Property(duration)] • $INFO[ListItem.Property(views)] views</label>
                            <textcolor>FFAAAAAA</textcolor>
                        </control>
                    </focusedlayout>
                    
                    <content target="videos">$INFO[Window(10000).Property(GlobalSearch.YouTubeURL)]</content>
                </control>
                
                <!-- Loading Indicator -->
                <control type="label">
                    <left>0</left>
                    <top>300</top>
                    <width>1600</width>
                    <height>100</height>
                    <font>font25</font>
                    <label>Searching YouTube...</label>
                    <textcolor>FFAAAAAA</textcolor>
                    <align>center</align>
                    <visible>Integer.IsEqual(Container(102).NumItems,0)</visible>
                </control>
            </control>
        </control>
    </controls>
</window>
