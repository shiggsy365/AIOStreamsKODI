<?xml version="1.0" encoding="UTF-8"?>
<window type="dialog">
    <zorder>1</zorder>
    <defaultcontrol always="true">3012</defaultcontrol>
    <onload>Dialog.Close(videoosd)</onload>
    <onload>Dialog.Close(seekbar)</onload>
    <controls>
        <!-- Main Group (Bottom Right) -->
        <control type="group">
            <right>20</right>
            <bottom>20</bottom>
            <width>600</width>
            <height>180</height>
            <include>OpenClose_Right</include>
            
            <!-- Background -->
            <control type="image">
                <width>600</width>
                <height>180</height>
                <texture>dialogs/dialog-bg-nobo.png</texture>
                <bordertexture border="21" infill="false">overlays/shadow.png</bordertexture>
                <bordersize>20</bordersize>
            </control>

            <!-- Thumbnail -->
            <control type="image">
                <left>20</left>
                <top>20</top>
                <width>250</width>
                <height>140</height>
                <aspectratio align="center" aligny="center">scale</aspectratio>
                <texture>$INFO[Window.Property(upnext.next_episode_thumb)]</texture>
                <bordertexture border="21" infill="false">overlays/shadow.png</bordertexture>
                <bordersize>5</bordersize>
            </control>

            <!-- Text Info -->
            <control type="group">
                <left>290</left>
                <top>25</top>
                <width>290</width>
                <height>135</height>

                <!-- "Up Next" Header -->
                <control type="label">
                    <top>0</top>
                    <height>30</height>
                    <width>290</width>
                    <font>font12</font>
                    <textcolor>grey</textcolor>
                    <label>$LOCALIZE[31065] ($INFO[Player.TimeRemaining])</label>
                </control>

                <!-- Show Name -->
                <control type="label">
                    <top>35</top>
                    <height>40</height>
                    <width>290</width>
                    <font>font27_narrow</font>
                    <label>$INFO[Window.Property(upnext.tvshow_title)]</label>
                    <scroll>true</scroll>
                </control>

                <!-- Episode Title / Number -->
                <control type="label">
                    <top>75</top>
                    <height>30</height>
                    <width>290</width>
                    <font>font13</font>
                    <textcolor>grey</textcolor>
                    <label>$INFO[Window.Property(upnext.next_season_number),S,.]$INFO[Window.Property(upnext.next_episode_number),E, - ]$INFO[Window.Property(upnext.next_episode_title)]</label>
                    <scroll>true</scroll>
                </control>
            </control>
            
            <!-- Progress Bar (Slim line at bottom) -->
            <control type="progress" id="3014">
                <left>20</left>
                <bottom>10</bottom>
                <width>560</width>
                <height>4</height>
                <texturebg colordiffuse="40FFFFFF">white.png</texturebg>
                <lefttexture></lefttexture>
                <midtexture colordiffuse="button_focus">white.png</midtexture>
                <righttexture></righttexture>
                <info>Player.Progress</info>
            </control>

            <!-- Buttons (Hidden, mapped to remote keys via addon) -->
            <!-- 3012 is usually Watch Now default focus -->
            <control type="button" id="3012">
                <description>Watch Now</description>
                <left>-1000</left>
                <onfocus>SetFocus(3014)</onfocus>
            </control>
            <control type="button" id="3013">
                <description>Close</description>
                <left>-1000</left>
            </control>

        </control>
    </controls>
</window>
