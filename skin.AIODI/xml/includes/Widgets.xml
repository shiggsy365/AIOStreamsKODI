<?xml version="1.0" encoding="UTF-8"?>
<includes>
    <!-- Single Widget Template -->
    <include name="WidgetTemplate">
        <param name="widget_index">0</param>
        <param name="page">home</param>
        <definition>
            <control type="group">
                <visible>!String.IsEmpty(Window(Home).Property(AIOStreams.$PARAM[page].Widget.$PARAM[widget_index].Label))</visible>
                <left>0</left>
                <top>$PARAM[top_pos]</top>
                <width>100%</width>
                <height>460</height>

                <!-- Widget Title -->
                <control type="label">
                    <left>20</left>
                    <top>0</top>
                    <width>100%</width>
                    <height>60</height>
                    <font>font37_title</font>
                    <textcolor>ThemeColor</textcolor>
                    <label>$INFO[Window(Home).Property(AIOStreams.$PARAM[page].Widget.$PARAM[widget_index].Label)]</label>
                    <shadowcolor>text_shadow</shadowcolor>
                </control>

                <!-- Widget Content List -->
                <control type="fixedlist" id="110$PARAM[widget_index]">
                    <left>0</left>
                    <top>70</top>
                    <width>1900</width>
                    <height>380</height>
                    <onleft>noop</onleft>
                    <onright>noop</onright>
                    <onup>9000</onup>
                    <ondown>110$PARAM[next_index]</ondown>
                    <orientation>horizontal</orientation>
                    <preloaditems>4</preloaditems>
                    <focusposition>0</focusposition>
                    <scrolltime tween="cubic" easing="out">400</scrolltime>

                    <itemlayout width="250" height="375">
                        <control type="image">
                            <left>5</left>
                            <top>5</top>
                            <width>240</width>
                            <height>350</height>
                            <aspectratio>scale</aspectratio>
                            <texture background="true" fallback="DefaultMovies.png">$INFO[ListItem.Art(poster)]</texture>
                            <bordertexture border="5">common/border.png</bordertexture>
                            <bordersize>2</bordersize>
                        </control>
                    </itemlayout>

                    <focusedlayout width="250" height="375">
                        <control type="group">
                            <animation effect="zoom" start="100" end="105" time="200" tween="sine" easing="inout" center="auto">Focus</animation>
                            <animation effect="zoom" start="105" end="100" time="200" tween="sine" easing="inout" center="auto">UnFocus</animation>
                            <control type="image">
                                <left>0</left>
                                <top>0</top>
                                <width>250</width>
                                <height>360</height>
                                <aspectratio>scale</aspectratio>
                                <texture background="true" fallback="DefaultMovies.png">$INFO[ListItem.Art(poster)]</texture>
                                <bordertexture border="8" colordiffuse="ThemeColor">common/border.png</bordertexture>
                                <bordersize>6</bordersize>
                            </control>
                            <control type="label">
                                <left>0</left>
                                <top>365</top>
                                <width>250</width>
                                <height>30</height>
                                <font>font13_title</font>
                                <textcolor>ThemeColor</textcolor>
                                <align>center</align>
                                <label>$INFO[ListItem.Label]</label>
                                <scroll>true</scroll>
                            </control>
                        </control>
                    </focusedlayout>

                    <content target="video">
                        <path>$INFO[Window(Home).Property(AIOStreams.$PARAM[page].Widget.$PARAM[widget_index].Action)]</path>
                    </content>
                </control>
            </control>
        </definition>
    </include>

    <!-- Widget Layout for Home Page -->
    <include name="WidgetLayout">
        <control type="group">
            <left>0</left>
            <top>0</top>
            <width>1800</width>
            <height>100%</height>

            <!-- Widget 0 -->
            <include content="WidgetTemplate">
                <param name="widget_index">0</param>
                <param name="top_pos">0</param>
                <param name="next_index">1</param>
                <param name="page">home</param>
            </include>

            <!-- Widget 1 -->
            <include content="WidgetTemplate">
                <param name="widget_index">1</param>
                <param name="top_pos">480</param> <!-- Increased to fix overlap -->
                <param name="next_index">2</param>
                <param name="page">home</param>
            </include>

            <!-- Widget 2 -->
            <include content="WidgetTemplate">
                <param name="widget_index">2</param>
                <param name="top_pos">960</param> <!-- Increased to fix overlap -->
                <param name="next_index">3</param>
                <param name="page">home</param>
            </include>

            <!-- Widget 3 -->
            <include content="WidgetTemplate">
                <param name="widget_index">3</param>
                <param name="top_pos">1440</param>
                <param name="next_index">4</param>
                <param name="page">home</param>
            </include>

            <!-- Widget 4 -->
            <include content="WidgetTemplate">
                <param name="widget_index">4</param>
                <param name="top_pos">1920</param>
                <param name="next_index">0</param>
                <param name="page">home</param>
            </include>
        </control>
    </include>

    <!-- Widget Layout for Movies Page -->
    <include name="WidgetLayoutMovies">
        <control type="group">
            <left>0</left>
            <top>0</top>
            <width>1800</width>
            <height>840</height>

            <!-- Widget 0 -->
            <include content="WidgetTemplate">
                <param name="widget_index">0</param>
                <param name="top_pos">0</param>
                <param name="next_index">1</param>
                <param name="page">movies</param>
            </include>

            <!-- Widget 1 -->
            <include content="WidgetTemplate">
                <param name="widget_index">1</param>
                <param name="top_pos">400</param>
                <param name="next_index">2</param>
                <param name="page">movies</param>
            </include>

            <!-- Widget 2 -->
            <include content="WidgetTemplate">
                <param name="widget_index">2</param>
                <param name="top_pos">800</param>
                <param name="next_index">3</param>
                <param name="page">movies</param>
            </include>

            <!-- Widget 3 -->
            <include content="WidgetTemplate">
                <param name="widget_index">3</param>
                <param name="top_pos">1200</param>
                <param name="next_index">4</param>
                <param name="page">movies</param>
            </include>

            <!-- Widget 4 -->
            <include content="WidgetTemplate">
                <param name="widget_index">4</param>
                <param name="top_pos">1600</param>
                <param name="next_index">0</param>
                <param name="page">movies</param>
            </include>
        </control>
    </include>

    <!-- Widget Layout for Shows Page -->
    <include name="WidgetLayoutShows">
        <control type="group">
            <left>0</left>
            <top>0</top>
            <width>1800</width>
            <height>840</height>

            <!-- Widget 0 -->
            <include content="WidgetTemplate">
                <param name="widget_index">0</param>
                <param name="top_pos">0</param>
                <param name="next_index">1</param>
                <param name="page">shows</param>
            </include>

            <!-- Widget 1 -->
            <include content="WidgetTemplate">
                <param name="widget_index">1</param>
                <param name="top_pos">400</param>
                <param name="next_index">2</param>
                <param name="page">shows</param>
            </include>

            <!-- Widget 2 -->
            <include content="WidgetTemplate">
                <param name="widget_index">2</param>
                <param name="top_pos">800</param>
                <param name="next_index">3</param>
                <param name="page">shows</param>
            </include>

            <!-- Widget 3 -->
            <include content="WidgetTemplate">
                <param name="widget_index">3</param>
                <param name="top_pos">1200</param>
                <param name="next_index">4</param>
                <param name="page">shows</param>
            </include>

            <!-- Widget 4 -->
            <include content="WidgetTemplate">
                <param name="widget_index">4</param>
                <param name="top_pos">1600</param>
                <param name="next_index">0</param>
                <param name="page">shows</param>
            </include>
        </control>
    </include>

    <!-- Common Assets -->
    <include name="common/white.png">
        <control type="image">
            <texture>common/white.png</texture>
        </control>
    </include>

    <include name="common/border.png">
        <control type="image">
            <texture>common/border.png</texture>
        </control>
    </include>

</includes>
